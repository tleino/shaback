shaback is a SHA-checksumming backup/restore tool, similar to tar(1),
pax(1), dump(8), but is

   1) free from file size or file name limits
   2) very simple, no legacy cruft
   3) does SHA-checksumming
   4) builds an index and can restore single files fast

USE AT YOUR OWN RISK! NOT YET TESTED VERY WELL!

Example:

   # Build new archive
   find / | shaback >/tmp/test

   # Extract the index from archive
   OFFSET=$(expr $(head -1 /tmp/test | awk '{ print $5 }') / 512)
   dd if=/tmp/test bs=512 skip=$OFFSET

   # Extract particular file
   FILE_OFFSET=$(expr $(dd if=/tmp/test bs=512 skip=$OFFSET | \
      grep -m1 file | awk '{ print $2 }') / 512)
   FILE_SIZE=$(expr $(dd if=/tmp/test bs=512 skip=$OFFSET | \
      grep -m1 file | awk '{ print $11 }') / 512)
   dd if=/tmp/test bs=512 skip=$FILE_OFFSET count=$FILE_SIZE

Builds an image like this:

   SHABACK <shaback magic number> <time> <entries> <index offset>\n

And then files are dumped one by one, and each followed by a metadata
section:

   <shaback magic number> <offset> <type> <inode> <ctime> <atime>
   <mtime> <mode> <uid> <gid> <size> <hash meta> <hash file> <path>\n
   <link path>

And lastly, all metadata sections are dumped once more at the index
offset, i.e. metadata is duplicated (in case the index is corrupted).

All entries are aligned to 512-byte blocks in case bad blocks corrupts
something, rest of the blocks can be salvaged cleanly.

The shaback magic number is a random number that is unique so that
corrupted or partially broken backup can be restored.

Standard tools like dd can be used for restoring a corrupted archive.
